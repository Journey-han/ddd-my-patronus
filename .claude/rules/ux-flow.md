# 🔮 Patronus Finder UX Flow v2

> **레퍼런스 기반 인터랙션 설계 문서**  
> 스크롤 비디오 스크러빙 × 1문 1답 비정형 레이아웃 × 슬라이드업 결과

---

## 📌 레퍼런스 적용 맵

### Reference 1: StringTune (string-tune.fiddle.digital)

| 특징 | 적용 포인트 |
|------|-------------|
| 스크롤 진행률 ↔ 요소 연동 | 비디오 currentTime을 scroll progress에 매핑 |
| 비정형 텍스트 배치 | 질문 섹션의 5가지 비정형 레이아웃 패턴 |
| 텍스트 스플리팅 개별 애니메이션 | 로딩 섹션 "Expecto Patronum" 글자별 등장 |
| 프로그레스 인디케이터 (0%) | 질문 진행률 바 + 번호 표시 |
| 내러티브 기반 스크롤 시퀀스 | 전체 사이트의 감정선(긴장→집중→기대→경이) |

### Reference 2: Dynamic Grid (dynamic-grid-rose.vercel.app)

| 특징 | 적용 포인트 |
|------|-------------|
| **framer-motion layout** 애니메이션 | 질문 전환 시 요소 위치 이동 |
| 상태별 시각 피드백 (hover/active/drag) | 답변 카드의 default→hover→selected 3단계 |
| 토스트 알림 피드백 | 답변 선택 시 짧은 시각 확인 |
| 부드러운 레이아웃 시프트 | 비정형 패턴 전환 시 콘텐츠 이동 |

### Reference 3: Jesko Jets (jeskojets.com)

| 특징 | 적용 포인트 |
|------|-------------|
| **다중 레이어 패럴랙스** | 히어로 비디오 위 텍스트 + 파티클 + 비네팅 레이어 |
| 시네마틱 풀스크린 진입 | 히어로/로딩/결과 모두 뷰포트 고정 풀스크린 |
| 스크롤 기반 섹션 전환 (CTA 없음) | 전체 플로우가 스크롤만으로 진행 |
| 절제된 고급 타이포그래피 | Cinzel 세리프 타이틀의 럭셔리 톤 |
| 데이터 레이어 (스펙 → 블루프린트 전환) | 결과 슬라이드업의 단계별 정보 공개 |

---

## 🎬 전체 User Flow

```
┌──────────────────────────────────────────────────────────────────────────────┐
│                                                                              │
│  [HERO]  ──▶  [Q1] ─▶ [Q2] ─▶ ... ─▶ [Q7]  ──▶  [LOADING]  ──▶  [RESULT]  │
│                                                                              │
│    ↓              ↓                          ↓              ↓               │
│  🎬 비디오       🎴 1문 1답                  🎬 비디오      🎬 비디오        │
│  스크러빙        비정형 레이아웃              스크러빙       + 슬라이드업      │
│  (스크롤)        (클릭 전환)                 (스크롤)       (스크롤)          │
│                                                                              │
│  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  │
│  감정선:  긴장 ─────▶ 집중 ────────────────▶ 기대 ─────────▶ 경이            │
│                                                                              │
└──────────────────────────────────────────────────────────────────────────────┘
```

### 섹션별 스크롤 구조

```
[전체 페이지 스크롤 맵]

 0vh ┬─────────────────────────── ① 히어로 비디오 스크러빙
     │  height: 300vh
     │  video: position fixed
     │  scroll → video.currentTime
300vh┼─────────────────────────── ② 질문 섹션
     │  height: auto (스크롤 없음)
     │  뷰포트 고정, 클릭으로 전환
     │  7문항 × fade 전환
     ┼─────────────────────────── ③ 로딩 비디오 스크러빙
     │  height: 250vh
     │  video: position fixed
     │  scroll → video.currentTime
     ┼─────────────────────────── ④ 결과 비디오 + 슬라이드업
     │  height: 400vh
     │  video: position fixed (배경)
     │  scroll → 콘텐츠 slideUp
     ┴───────────────────────────
```

---

## 🌟 STAGE 1: Hero — 비디오 스크러빙

### 1.1 Initial Load (0~1초)

```
┌─────────────────────────────────────────┐
│                                         │
│        🎬 배경 영상 (정지 상태)          │  ← 어둠, 첫 프레임 고정
│                                         │
│           ✦ 파티클 페이드인 ✦            │
│                                         │
│            Discover Your                │  ← Cinzel 400, letter-spacing 0.5em
│             PATRONUS                    │  ← Cinzel 900, 6rem, 그라데이션+글로우
│                                         │
│      당신의 내면에 잠든 수호령을 깨우세요   │  ← Noto Sans KR 300, 1.1rem
│                                         │
│               ┌───┐                     │
│               │ ↓ │                     │  ← 스크롤 인디케이터
│               └───┘                     │
│            Scroll Down                  │
│                                         │
│  [비네팅: radial-gradient 가장자리 어둡게] │
│                                         │
└─────────────────────────────────────────┘

[로드 애니메이션 시퀀스]
0.0s → 영상 첫 프레임 표시 (어둠)
0.2s → 파티클 등장 (staggered, 30~50개)
0.4s → "Discover Your" slideDown + fadeIn
0.6s → "PATRONUS" scale 0.8→1.0 + glow pulse 시작
0.8s → 설명 텍스트 fadeIn
1.0s → 스크롤 인디케이터 bounce 시작 (infinite)
1.2s → 비네팅 오버레이 fadeIn
```

### 1.2 Scroll Video Scrubbing (0% → 100%)

> **핵심**: 스크롤 위치가 video.currentTime에 직접 매핑.
> 사용자가 스크롤 속도를 조절하면 영상 재생 속도가 바뀜.

```
[스크롤 ↔ 영상 매핑]

scrollProgress = (scrollY - sectionTop) / (sectionHeight - viewportHeight)
video.currentTime = scrollProgress * video.duration

┌─────────────────────────────────────────────────────────────────┐
│ scroll 0%        25%          50%          75%         100%     │
│    │              │            │            │            │      │
│    ▼              ▼            ▼            ▼            ▼      │
│  video          video        video        video       video    │
│  0:00           0:02         0:04         0:06        0:08     │
│    │              │            │            │            │      │
│  어둠           빛 싹틈       빛 확산       빛 최고조    빛 소멸  │
└─────────────────────────────────────────────────────────────────┘
```

### 1.3 스크롤 구간별 레이어 동작

> 영상 위에 겹쳐진 텍스트/파티클/오버레이가 스크롤에 따라 개별 반응

```
[레이어 구조 (z-index 순)]

  z: 1  │ 🎬 배경 영상 (position: fixed, fullscreen)
  z: 2  │ 비네팅 오버레이 (radial-gradient)
  z: 3  │ ✦ 파티클 레이어 (CSS animation, 독립 동작)
  z: 4  │ 텍스트 레이어 (scroll progress 연동)
  z: 5  │ 하단 그라데이션 오버레이 (전환용)
```

| 구간 | 스크롤 % | 영상 상태 | 텍스트 | 파티클 | 전환 오버레이 |
|------|----------|----------|--------|--------|-------------|
| **Zone A** | 0~30% | 어둠→빛 싹틈 | opacity: 1, scale: 1 | 정상 동작 | 미표시 |
| **Zone B** | 30~60% | 빛 확산 | opacity: 1→0.4, blur: 0→4px | 밝기 증가 | 미표시 |
| **Zone C** | 60~85% | 빛 최고조 | opacity: 0.4→0, blur: 4→10px, Y: 0→-30px | fadeOut | opacity: 0→0.7 |
| **Zone D** | 85~100% | 빛 소멸/전환 | 완전히 사라짐 | 사라짐 | opacity: 0.7→1 (완전 커버) |

```
[Zone C~D: 전환 오버레이 등장]

스크롤 60%:
┌──────────────────────────────────┐
│                                  │
│    🎬 영상 (빛 최고조)            │
│         PATRONUS (흐릿)          │
│                                  │
│░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░│  ← 하단에서 그라데이션 시작
│▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓│
└──────────────────────────────────┘

스크롤 100%:
┌──────────────────────────────────┐
│▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓│
│▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓│  ← 완전히 덮임 (#0a0a12)
│▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓│
│▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓│  → 질문 섹션 진입 준비
│▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓│
└──────────────────────────────────┘
```

### 1.4 Implementation

```javascript
// 히어로 비디오 스크러빙
const heroVideoRef = useRef(null);
const heroSectionRef = useRef(null);

useEffect(() => {
  let ticking = false;

  const handleScroll = () => {
    if (!ticking) {
      requestAnimationFrame(() => {
        const section = heroSectionRef.current;
        const video = heroVideoRef.current;
        if (!section || !video || !video.duration) return;

        const rect = section.getBoundingClientRect();
        const sectionHeight = section.offsetHeight - window.innerHeight;
        const scrolled = -rect.top;
        const progress = Math.max(0, Math.min(1, scrolled / sectionHeight));

        // 영상 시간 매핑
        video.currentTime = progress * video.duration;

        // 텍스트 레이어 트랜스폼
        const textOpacity = Math.max(0, 1 - progress * 1.6);
        const textBlur = Math.min(10, progress * 14);
        const textY = progress * -30;

        // 전환 오버레이 (60% 이후 등장)
        const overlayOpacity = Math.max(0, (progress - 0.6) / 0.4);

        setHeroState({ progress, textOpacity, textBlur, textY, overlayOpacity });
        ticking = false;
      });
      ticking = true;
    }
  };

  window.addEventListener('scroll', handleScroll, { passive: true });
  return () => window.removeEventListener('scroll', handleScroll);
}, []);
```

---

## 🎴 STAGE 2: Questions — 1문 1답 비정형 레이아웃

### 2.1 섹션 진입

```
[히어로 전환 완료 → 질문 섹션 등장]

━━━━ Time: 0ms ━━━━
┌──────────────────────────────────┐
│▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓│  ← 다크 배경 (#0a0a12)
│▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓│
│▓▓▓▓▓ ✦ 파티클 유지 ✦ ▓▓▓▓▓▓▓▓▓▓│
│▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓│
└──────────────────────────────────┘

━━━━ Time: 300ms ━━━━
┌──────────────────────────────────┐
│                                  │
│  ✦                          ✦   │  ← 파티클 유지 (밝기 감소)
│                                  │
│         ── 1 / 7 ──             │  ← 프로그레스 바 fadeIn
│                                  │
│  Q1.                             │  ← 질문 텍스트 fadeInUp
│  어둠 속에서                      │
│  가장 먼저 하는 일은?             │
│                                  │
└──────────────────────────────────┘

━━━━ Time: 600ms ━━━━
┌──────────────────────────────────┐
│                                  │
│  ━━━━━━━━━━━━━━ (14%) ━━━━━━━━  │  ← 프로그레스 바
│                                  │
│  Q1.                             │
│  어둠 속에서                      │
│  가장 먼저 하는 일은?             │
│                                  │
│         ┌──────────────┐         │
│         │ 빛을 찾는다    │         │  ← 답변 staggered fadeIn
│         └──────────────┘         │     (50ms 간격)
│              ┌──────────────┐    │
│              │ 주변을 살핀다  │    │
│              └──────────────┘    │
│         ┌──────────────┐         │
│         │ 가만히 기다린다 │         │
│         └──────────────┘         │
│    ┌──────────────┐              │
│    │ 함께 있는 이를  │              │
│    │ 확인한다       │         1/7 │
│    └──────────────┘              │
│                                  │
└──────────────────────────────────┘
```

### 2.2 프로그레스 인디케이터 (StringTune 참조)

> StringTune의 스크롤 퍼센티지 표시를 질문 진행률로 변환

```
[상단 프로그레스 바]

Q1 진행 중:
━━━━━━╸                                          1/7
 14%

Q4 진행 중:
━━━━━━━━━━━━━━━━━━━━━━━━━╸                       4/7
 57%

Q7 진행 중:
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━╸   7/7
 100%

[스펙]
- position: fixed, top: 0
- height: 2px
- background: linear-gradient(90deg, #87CEEB, #6495ED)
- width 트랜지션: 0.6s cubic-bezier(0.16, 1, 0.3, 1)
- 우측 하단: 현재번호/전체 (Cinzel 400, 0.85rem, rgba(255,255,255,0.4))
```

### 2.3 비정형 레이아웃 5패턴 상세

> 각 질문마다 텍스트와 답변의 위치가 달라진다.
> 패턴은 [A → B → C → D → E → A → B] 순서로 7문항에 순환 적용.

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
  패턴 A: 좌상단 질문 + 우하단 답변 흘림           Q1, Q6 적용
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

┌──────────────────────────────────────┐
│                                      │
│  Q1.                                 │  ← 질문번호: Cinzel 700
│  어둠 속에서                          │     0.85rem, #87CEEB
│  가장 먼저                            │
│  하는 일은?                           │  ← 질문: Noto Sans KR 500
│                                      │     1.5rem, #FFFFFF
│                                      │
│            ┌──────────────────┐       │
│            │ ✧ 빛을 찾는다     │       │  ← 답변: 우측으로 비껴 배치
│            └──────────────────┘       │     각 카드 X offset 다름
│                 ┌──────────────────┐  │
│                 │ ✧ 주변을 살핀다   │  │
│                 └──────────────────┘  │
│            ┌──────────────────┐       │
│            │ ✧ 가만히 기다린다  │       │
│            └──────────────────┘       │
│       ┌──────────────────┐           │
│       │ ✧ 함께 있는 이를   │      1/7 │
│       │    확인한다        │           │
│       └──────────────────┘           │
│                                      │
└──────────────────────────────────────┘

  질문 text-align: left
  질문 위치: top 15%, left 8%
  답변 시작: top 45%, left 30%~55% (각각 다름)


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
  패턴 B: 우하단 질문 + 좌측 답변 산개              Q2, Q7 적용
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

┌──────────────────────────────────────┐
│                                      │
│                                      │
│  ┌──────────────────┐                │
│  │ ✧ 용기와 행동력    │                │  ← 답변: 좌측 상단부터 흩어짐
│  └──────────────────┘                │
│       ┌──────────────────┐           │
│       │ ✧ 지혜와 전략     │           │
│       └──────────────────┘           │
│  ┌──────────────────┐                │
│  │ ✧ 희생과 헌신      │                │
│  └──────────────────┘                │
│            ┌──────────────────┐      │
│            │ ✧ 직감과 민첩함   │      │
│            └──────────────────┘      │
│                                      │
│              가장 소중한 사람을        │  ← 질문: 우측 하단
│                   지킬 때             │     text-align: right
│              당신의 무기는?      Q2.  │
│                                 2/7  │
│                                      │
└──────────────────────────────────────┘

  질문 text-align: right
  질문 위치: bottom 12%, right 8%
  답변 시작: top 20%, left 5%~30%


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
  패턴 C: 중앙 질문 + 하단 답변 가로 배치            Q3 적용
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

┌──────────────────────────────────────┐
│                                      │
│                                      │
│                                      │
│          당신의 마음속                 │  ← 질문: 정중앙
│            풍경은?                    │     text-align: center
│              Q3.                     │
│                                      │
│                                      │
│   ┌────────────┐  ┌────────────┐     │
│   │ ✧ 광활한    │  │ ✧ 깊은      │     │  ← 답변: 2×2 그리드
│   │   하늘      │  │   숲속      │     │     중앙 정렬
│   └────────────┘  └────────────┘     │
│   ┌────────────┐  ┌────────────┐     │
│   │ ✧ 끝없는    │  │ ✧ 따뜻한    │     │
│   │   바다      │  │   불빛의 집  │     │
│   └────────────┘  └────────────┘ 3/7 │
│                                      │
│                                      │
└──────────────────────────────────────┘

  질문 text-align: center
  질문 위치: top 25%, center
  답변: grid 2×2, gap 16px, center


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
  패턴 D: 좌측 수직 질문 + 우측 수직 답변             Q4 적용
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

┌──────────────────────────────────────┐
│                                      │
│  Q4.                                 │
│                                      │
│  친구가                    ┌────────────────┐
│  위험에                    │ ✧ 분위기 메이커  │
│  처했을 때                 ├────────────────┤
│  당신은?                   │ ✧ 묵묵한 리더   │
│                            ├────────────────┤
│                            │ ✧ 듬직한 조력자  │
│                            ├────────────────┤
│                            │ ✧ 현명한 조언자  │
│                            └────────────────┘
│                                         4/7 │
│                                      │
└──────────────────────────────────────┘

  질문 text-align: left, 좌측 30% 영역
  답변: 우측 50% 영역, 수직 스택


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
  패턴 E: 대각선 산개                              Q5 적용
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

┌──────────────────────────────────────┐
│                                      │
│  Q5.                                 │
│     가장 강해지는                     │
│                                      │
│           ┌──────────────────┐       │  ← 답변: 대각선 배치
│           │ ✧ 위기가 닥쳤을 때 │       │     좌상→우하 방향
│           └──────────────────┘       │
│      순간은?                         │  ← 질문이 답변 사이에 끼임
│                                      │
│                  ┌──────────────────┐ │
│                  │ ✧ 누군가를 지킬 때│ │
│                  └──────────────────┘ │
│  ┌──────────────────┐                │
│  │ ✧ 혼자 집중할 때   │                │
│  └──────────────────┘                │
│               ┌──────────────────┐   │
│               │ ✧ 자유를 느낄 때  │   │
│               └──────────────────┘   │
│                                 5/7  │
└──────────────────────────────────────┘

  질문: 분할 배치 (텍스트가 답변 사이에 삽입)
  답변: 각각 고유 position (absolute)
```

### 2.4 답변 카드 마이크로인터랙션

```
[답변 카드 3단계 상태 변화]

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
       DEFAULT              HOVER               SELECTED
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  ┌──────────────┐    ┌──────────────┐    ╔══════════════╗
  │ ✧ 빛을 찾는다 │    │ ✧ 빛을 찾는다 │    ║ ✧ 빛을 찾는다 ║
  └──────────────┘    └──────────────┘    ╚══════════════╝

  bg: rgba(w, 0.03)  bg: rgba(b, 0.08)   bg: rgba(b, 0.15)
  border: rgba(b,0.15) border: rgba(b,0.3) border: rgba(b,0.6)
  Y: 0                Y: -2px              Y: -2px
  glow: none          glow: subtle         glow: 20px spread
  scale: 1.0          scale: 1.01          scale: 1.0

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━


[클릭→선택 시 마이크로 시퀀스]

  0ms    │ scale: 0.97 (press down)
         │ background 밝아지기 시작
         │
  80ms   │ scale: 1.03 (bounce up)
         │ glow 확산 시작
         │ border: rgba(135,206,250, 0.6)
         │
  200ms  │ scale: 1.0 (settle)
         │ box-shadow: 0 0 25px rgba(135,206,250, 0.4)
         │ ← 선택 확인 상태 유지
         │
  500ms  │ 다른 답변 카드 opacity: 0, scale: 0.95 (동시 fadeOut)
         │
  700ms  │ 선택된 카드 + 질문 텍스트 함께 fadeOut
         │ opacity: 0, translateY: -30px
         │
  900ms  │ 빈 화면 (100ms 호흡)
         │
  1000ms │ 다음 질문 fadeIn (새 레이아웃 패턴)
         │ opacity: 0→1, translateY: 30px→0
```

### 2.5 질문 전환 애니메이션

> Dynamic Grid의 layout animation + framer-motion AnimatePresence 참조

```
[질문 Q3→Q4 전환 시퀀스]

━━━━ Phase 1: 현재 질문 Exit (0~500ms) ━━━━

┌──────────────────────────────┐
│                              │
│    당신의 마음속 풍경은?      │  ← opacity: 1→0
│          Q3.                 │     translateY: 0→-30px
│                              │     blur: 0→5px
│  ┌────────┐  ┌────────┐     │  ← 답변도 동시 exit
│  │████████│  │████████│     │     (이미 선택 후 fadeOut 완료)
│  └────────┘  └────────┘     │
│                              │
└──────────────────────────────┘

━━━━ Phase 2: 비어있는 순간 (500~600ms) ━━━━

┌──────────────────────────────┐
│                              │
│    ✦ 파티클만 떠다님 ✦        │  ← 배경과 파티클만 보임
│                              │     잠깐의 호흡 (100ms)
│                              │
└──────────────────────────────┘

━━━━ Phase 3: 새 질문 Enter (600~1200ms) ━━━━

┌──────────────────────────────────────┐
│                                      │
│  Q4.                                 │  ← 질문 먼저 fadeIn (600ms)
│                                      │     opacity: 0→1
│  친구가                              │     translateY: 30px→0
│  위험에                              │
│  처했을 때                            │
│  당신은?                              │
│                                      │
└──────────────────────────────────────┘

━━━━ Phase 4: 답변 Stagger Enter (800~1200ms) ━━━━

┌──────────────────────────────────────┐
│                                      │
│  Q4.                                 │
│  친구가                  ┌──────────────┐ ← 답변 1 (800ms)
│  위험에                  │ ✧ 분위기 메이커│
│  처했을 때               ├──────────────┤ ← 답변 2 (850ms)
│  당신은?                 │ ✧ 묵묵한 리더 │
│                          ├──────────────┤ ← 답변 3 (900ms)
│                          │ ✧ 듬직한 조력자│
│                          ├──────────────┤ ← 답변 4 (950ms)
│                          │ ✧ 현명한 조언자│
│                          └──────────────┘
│                                     4/7 │
└──────────────────────────────────────┘

  각 답변 stagger delay: 50ms
  답변 진입: opacity: 0→1, translateY: 20px→0
  이징: cubic-bezier(0.16, 1, 0.3, 1)
```

### 2.6 마지막 질문(Q7) → 로딩 전환

```
[Q7 답변 선택 후 특수 전환]

━━━━ Phase 1: 선택 확인 (0~500ms) ━━━━

  일반 질문과 동일한 선택 글로우 효과

━━━━ Phase 2: 전체 fadeOut (500~1000ms) ━━━━

┌──────────────────────────────┐
│                              │
│       (질문 + 답변 전체)      │  ← opacity: 1→0
│        fadeOut                │     scale: 1→0.98
│                              │     blur: 0→8px
│        프로그레스 바 100%     │  ← 프로그레스 바 완료 + fadeOut
│                              │
└──────────────────────────────┘

━━━━ Phase 3: 스크롤 활성화 (1000ms~) ━━━━

  질문 섹션이 사라지면서 스크롤이 다시 활성화됨
  → 로딩 비디오 스크러빙 섹션 시작
  → 자동 스크롤 유도 또는 스크롤 인디케이터 재등장

┌──────────────────────────────┐
│                              │
│      ✦ 파티클 배경 ✦         │
│                              │
│          ┌───┐               │
│          │ ↓ │               │  ← 스크롤 인디케이터 bounce
│          └───┘               │
│                              │
└──────────────────────────────┘
```

### 2.7 Implementation

```javascript
// Framer Motion AnimatePresence로 질문 전환
const layoutPatterns = ['A', 'B', 'C', 'D', 'E', 'A', 'B'];

const questionVariants = {
  enter: {
    opacity: 0,
    y: 30,
    filter: 'blur(5px)',
  },
  center: {
    opacity: 1,
    y: 0,
    filter: 'blur(0px)',
    transition: {
      duration: 0.6,
      ease: [0.16, 1, 0.3, 1],
    }
  },
  exit: {
    opacity: 0,
    y: -30,
    filter: 'blur(5px)',
    transition: {
      duration: 0.4,
      ease: [0.4, 0, 0.2, 1],
    }
  }
};

const answerVariants = {
  hidden: { opacity: 0, y: 20 },
  visible: (i) => ({
    opacity: 1,
    y: 0,
    transition: {
      delay: 0.2 + i * 0.05,
      duration: 0.5,
      ease: [0.16, 1, 0.3, 1],
    }
  }),
  selected: {
    scale: [0.97, 1.03, 1.0],
    boxShadow: '0 0 25px rgba(135, 206, 250, 0.4)',
    transition: { duration: 0.3 }
  },
  dismissed: {
    opacity: 0,
    scale: 0.95,
    transition: { duration: 0.2 }
  }
};
```

---

## ⏳ STAGE 3: Loading — 비디오 스크러빙 + 주문 텍스트

### 3.1 전체 구조

> 히어로와 동일한 스크롤↔비디오 매핑. 짧은 구간(250vh)에서 기대감을 극대화.

```
[로딩 섹션 레이어 구조]

  z: 1  │ 🎬 로딩 영상 (position: fixed, 빛 입자 모이는 장면)
  z: 2  │ 비네팅 오버레이
  z: 3  │ ✦ 파티클 (밝기 증가)
  z: 4  │ 주문 텍스트 레이어 ("Expecto... Patronum!")
  z: 5  │ 은빛 플래시 오버레이 (마지막 전환용)
```

### 3.2 스크롤 구간별 동작

```
[스크롤 0% → 100%  ⟺  영상 0:00 → 끝]

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
  Zone A: 0~30%  │  빛 입자 흩어진 상태 → 모이기 시작
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

┌──────────────────────────────────┐
│                                  │
│       ✦  ·   ✦                   │
│    ·        ✦    ·               │  ← 영상: 입자 산개
│         ✦      ·                 │
│     ·              ✦             │
│                                  │
│                                  │
│          E x p e c t o . . .     │  ← 텍스트 글자별 등장
│                                  │     (StringTune 스플리팅 참조)
│                                  │     Cinzel 700 이탤릭
│                                  │     2rem, rgba(w, 0.8)
└──────────────────────────────────┘

  텍스트: "Expecto..." 글자 하나씩 fadeIn
  각 글자 delay = index * 0.08s
  opacity: 0→0.8


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
  Zone B: 30~60%  │  입자가 형체를 만들어감
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

┌──────────────────────────────────┐
│                                  │
│            ✦✦✦✦                   │
│           ✦✦✦✦✦✦                  │  ← 영상: 입자 수렴 중
│            ✦✦✦✦                   │
│             ✦✦                    │
│                                  │
│        Expecto...                │  ← fadeOut (0.3s)
│                                  │
│                                  │
│       P A T R O N U M !          │  ← 새 텍스트 등장
│                                  │     Cinzel 900, 2.5rem
│                                  │     glow pulse 시작
│                                  │     text-shadow: 0 0 30px #87CEEB
└──────────────────────────────────┘

  "Expecto..." fadeOut
  "PATRONUM!" 글자별 스플리팅 등장 + glow


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
  Zone C: 60~85%  │  형체 거의 완성
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

┌──────────────────────────────────┐
│                                  │
│           ╭━━━━━━━╮              │
│          ╭┫ ✦✦✦✦✦ ┣╮             │  ← 영상: 동물 실루엣 형성
│           ┃ ✦✦✦✦✦ ┃              │
│           ╰┫     ┣╯              │
│            ╰━━━━━╯               │
│                                  │
│        PATRONUM!                 │  ← glow 최대 강도
│                                  │     text-shadow: 0 0 60px
│                                  │
└──────────────────────────────────┘

  "PATRONUM!" glow 강도 증가
  파티클 밝기 최대


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
  Zone D: 85~100%  │  은빛 플래시 → 결과 전환
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

┌──────────────────────────────────┐
│░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░│
│░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░│  ← 은빛 플래시
│░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░│     전체 화면 white flash
│░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░│     opacity: 0→1→0.8
│░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░│
│░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░│     → 페이드하며 결과 영상 노출
└──────────────────────────────────┘

  85%: 흰색 오버레이 opacity 0→0.9
  90%: 잠깐 유지 (긴장의 정점)
  95~100%: opacity 0.9→0 (결과 영상이 드러남)
```

### 3.3 텍스트 스플리팅 상세 (StringTune 참조)

```
["Expecto..." 글자별 등장]

  E  x  p  e  c  t  o  .  .  .
  │  │  │  │  │  │  │  │  │  │
  0  80 160 240 320 400 480 560 640 720  (ms delay)

  각 글자: opacity 0→0.8, translateY 10px→0
  이징: cubic-bezier(0.16, 1, 0.3, 1)


["PATRONUM!" 글자별 등장 + 글로우]

  P   A   T   R   O   N   U   M   !
  │   │   │   │   │   │   │   │   │
  0  60  120 180 240 300 360 420 480  (ms delay)

  각 글자: opacity 0→1, scale 0.8→1.0
  전체 완료 후: text-shadow glow pulse 시작
```

---

## ✨ STAGE 4: Result — 비디오 스크러빙 + 슬라이드업

### 4.1 이중 레이어 구조

> 배경 영상은 스크롤에 따라 재생(fixed), 결과 콘텐츠는 스크롤에 따라 아래→위로 올라옴.
> Jesko Jets의 데이터 레이어 전환 + StringTune의 순차 공개 방식 결합.

```
[결과 섹션 레이어 구조]

  z: 1  │ 🎬 결과 영상 (position: fixed, 페트로누스 은빛 실루엣)
  z: 2  │ 비네팅 오버레이
  z: 3  │ ✦ 파티클 (축하 분위기)
  z: 4  │ 그라데이션 커튼 (영상 → 콘텐츠 전환)
  z: 5  │ 슬라이드업 콘텐츠 카드들 (스크롤 연동)
```

### 4.2 스크롤 구간별 슬라이드업 시퀀스

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
  스크롤 0~15%  │  영상만 보이는 순간 (순수 감상)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

┌──────────────────────────────────┐
│                                  │
│                                  │
│     🎬 페트로누스 영상            │  ← 은빛 실루엣이 움직이는 장면
│        (풀스크린)                │     영상 0:00~
│                                  │
│                                  │
│                                  │
└──────────────────────────────────┘

  영상만 보임. 콘텐츠 없음.
  사용자가 결과 영상에 집중하는 시간.


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
  스크롤 15~35%  │  [슬라이드 1] 이모지 + 이름
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

┌──────────────────────────────────┐
│     🎬 영상 (상단에서 계속)       │
│                                  │
│─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─│  ← 그라데이션 커튼 (transparent→dark)
│▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓│
│▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓│
│▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓│
│▓▓▓▓▓    ✧ ･ﾟ 🦌 ﾟ･ ✧    ▓▓▓▓▓▓│  ← 이모지: scale 0→1 (bounce)
│▓▓▓▓▓                     ▓▓▓▓▓▓│     6rem, glow pulse
│▓▓▓▓▓   당신의 페트로누스는  ▓▓▓▓▓▓│  ← Noto Sans KR 300, 1rem
│▓▓▓▓▓       수사슴         ▓▓▓▓▓▓│  ← Cinzel 900, 2.5rem, 그라데이션
│▓▓▓▓▓        Stag         ▓▓▓▓▓▓│  ← Cinzel 400, 1rem, #87CEEB
│▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓│
└──────────────────────────────────┘

  진입 타이밍:
  15% → 그라데이션 커튼 opacity 0→1
  20% → 이모지 scale 0→1 (spring bounce)
  22% → "당신의 페트로누스는" fadeIn
  25% → "수사슴" fadeIn + gradient 적용
  27% → "Stag" fadeIn


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
  스크롤 35~55%  │  [슬라이드 2] 설명 텍스트
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

┌──────────────────────────────────┐
│▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓│
│▓▓▓▓▓    ✧ ･ﾟ 🦌 ﾟ･ ✧    ▓▓▓▓▓▓│  ← 이전 슬라이드 유지
│▓▓▓▓▓       수사슴         ▓▓▓▓▓▓│     (위로 살짝 이동: Y -20px)
│▓▓▓▓▓        Stag         ▓▓▓▓▓▓│
│▓▓▓▓▓                     ▓▓▓▓▓▓│
│▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓│
│▓▓▓  "고귀하고 용감한 수호자.   ▓▓▓│  ← 설명: fadeIn + slideUp
│▓▓▓   위기의 순간 누구보다     ▓▓▓│     Noto Sans KR 300
│▓▓▓   먼저 앞에 서는 당신의    ▓▓▓│     1.1rem, line-height 1.8
│▓▓▓   수사슴은 강인한 의지와   ▓▓▓│     rgba(255,255,255, 0.8)
│▓▓▓   따뜻한 마음을            ▓▓▓│
│▓▓▓   상징합니다."             ▓▓▓│
│▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓│
└──────────────────────────────────┘

  진입: opacity 0→1, translateY 40px→0
  이징: cubic-bezier(0.33, 1, 0.68, 1), duration 0.8s
  이전 슬라이드(이름)는 위로 밀리며 축소: scale 0.95, Y -20px


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
  스크롤 55~75%  │  [슬라이드 3] 성격 태그 + 주문
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

┌──────────────────────────────────┐
│▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓│
│▓▓▓▓▓  ✧ 🦌  수사슴  Stag  ▓▓▓▓▓│  ← 축소된 상태 유지
│▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓│
│▓▓▓  (설명 텍스트 축소)        ▓▓▓│  ← 위로 밀림
│▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓│
│▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓│
│▓▓▓   ┌──────┐ ┌──────┐ ┌──────┐ │  ← 태그: stagger fadeIn
│▓▓▓   │ 용감함│ │ 리더십│ │보호본능│ │     각 100ms 간격
│▓▓▓   └──────┘ └──────┘ └──────┘ │     칩 스타일 (glow border)
│▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓│
│▓▓▓                            ▓▓▓│
│▓▓▓    "Expecto Patronum!"     ▓▓▓│  ← Cinzel 700 이탤릭
│▓▓▓                            ▓▓▓│     glow pulse animation
│▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓│     text-shadow: 0 0 40px #87CEEB
└──────────────────────────────────┘

  태그 진입: 좌→우 stagger, 각 100ms
  각 태그: opacity 0→1, scale 0.8→1.0
  주문 텍스트: 태그 완료 후 300ms delay, fadeIn + glow 시작


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
  스크롤 75~100%  │  [슬라이드 4] 공유 + 다시하기
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

┌──────────────────────────────────┐
│▓▓▓▓▓  ✧ 🦌  수사슴  Stag  ▓▓▓▓▓│
│▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓│
│▓▓▓  (설명 축소)              ▓▓▓│
│▓▓▓  ┌────┐ ┌────┐ ┌────┐    ▓▓▓│  ← 이전 콘텐츠 축소 유지
│▓▓▓  │용감│ │리더│ │보호│    ▓▓▓│
│▓▓▓  └────┘ └────┘ └────┘    ▓▓▓│
│▓▓▓  "Expecto Patronum!"     ▓▓▓│
│▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓│
│▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓│
│▓▓▓  ┌─────────────────────┐  ▓▓▓│
│▓▓▓  │  🔗 결과 공유하기     │  ▓▓▓│  ← 공유 버튼: glow border
│▓▓▓  └─────────────────────┘  ▓▓▓│     hover 시 glow 강화
│▓▓▓                            ▓▓▓│
│▓▓▓  ┌─────────────────────┐  ▓▓▓│
│▓▓▓  │  ↻ 다시 찾아보기      │  ▓▓▓│  ← 리셋 버튼: ghost style
│▓▓▓  └─────────────────────┘  ▓▓▓│     border만 있는 형태
│▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓│
└──────────────────────────────────┘

  버튼 진입: opacity 0→1, translateY 30px→0
  delay: 200ms (공유), 350ms (다시하기)
```

### 4.3 슬라이드업 콘텐츠 스택 동작 원리

> 스크롤이 진행될수록 이전 슬라이드는 위로 밀리며 축소되고,
> 새 슬라이드가 아래에서 올라온다. 카드가 쌓이는 느낌.

```
[스크롤 진행에 따른 콘텐츠 스택]

스크롤 20%:                    스크롤 50%:
┌──────────┐                  ┌──────────┐
│          │                  │[이름-축소]│ ← scale 0.92, Y -60
│          │                  ├──────────┤
│ [이름]   │                  │[설명-축소]│ ← scale 0.96, Y -30
│          │                  ├──────────┤
│          │                  │ [태그]   │ ← scale 1.0, Y 0
│          │                  │          │
└──────────┘                  └──────────┘

스크롤 80%:
┌──────────┐
│[이름-작게]│ ← scale 0.88, Y -90, opacity 0.5
├──────────┤
│[설명-작게]│ ← scale 0.92, Y -60, opacity 0.7
├──────────┤
│[태그-축소]│ ← scale 0.96, Y -30
├──────────┤
│ [버튼]   │ ← scale 1.0, Y 0 (현재 포커스)
│          │
└──────────┘
```

### 4.4 버튼 인터랙션

```
[공유 버튼]

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
       DEFAULT                HOVER                 CLICK
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  ┌──────────────────┐  ┌──────────────────┐  ╔══════════════════╗
  │ 🔗 결과 공유하기  │  │ 🔗 결과 공유하기  │  ║ ✓ 링크 복사됨!   ║
  └──────────────────┘  └──────────────────┘  ╚══════════════════╝

  bg: transparent         bg: rgba(b, 0.1)      bg: rgba(b, 0.2)
  border: rgba(b, 0.4)   border: rgba(b, 0.6)  border: rgba(b, 0.8)
  glow: none              glow: 15px            glow: 25px → fade
  scale: 1.0              scale: 1.02           scale: 0.98→1.0

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━


[다시 찾아보기 버튼 클릭 시]

  0ms    → scale 0.97
  100ms  → 전체 화면 fadeOut (opacity 1→0, 1s)
  1000ms → 페이지 맨 위로 스크롤 + 상태 리셋
  1200ms → 히어로 섹션 fadeIn (처음부터 다시)
```

### 4.5 Implementation

```javascript
// 결과 슬라이드업 스크롤 연동
const resultSectionRef = useRef(null);
const [resultProgress, setResultProgress] = useState(0);

// 슬라이드별 visibility 계산
const getSlideState = (slideIndex, progress) => {
  const slideCount = 4;
  const slideRange = 1 / slideCount;
  const slideStart = slideIndex * slideRange;
  const slideEnd = slideStart + slideRange;

  // 현재 슬라이드의 로컬 진행도
  const localProgress = Math.max(0, Math.min(1,
    (progress - slideStart) / slideRange
  ));

  // 이전 슬라이드는 위로 밀림
  const isPast = progress > slideEnd;
  const pastOffset = isPast
    ? Math.min(1, (progress - slideEnd) / slideRange)
    : 0;

  return {
    opacity: localProgress,
    y: (1 - localProgress) * 60 - pastOffset * 30,    // 진입 60px→0, 이후 위로 -30px
    scale: 1 - pastOffset * 0.04,                      // 1.0 → 0.96
    blur: pastOffset * 2,                               // 0 → 2px (살짝)
  };
};

// 영상은 별도로 스크롤에 매핑
useEffect(() => {
  const handleScroll = () => {
    const section = resultSectionRef.current;
    const video = resultVideoRef.current;
    if (!section || !video) return;

    const rect = section.getBoundingClientRect();
    const sectionHeight = section.offsetHeight - window.innerHeight;
    const scrolled = -rect.top;
    const progress = Math.max(0, Math.min(1, scrolled / sectionHeight));

    setResultProgress(progress);

    // 영상은 전체 구간의 앞 50%에서만 재생 (나머지는 마지막 프레임 유지)
    if (video.duration) {
      video.currentTime = Math.min(progress * 2, 1) * video.duration;
    }
  };

  window.addEventListener('scroll', handleScroll, { passive: true });
  return () => window.removeEventListener('scroll', handleScroll);
}, []);
```

---

## 📱 반응형 대응

### 디바이스별 핵심 차이

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
  DESKTOP (1200px+)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  히어로: 영상 풀스크린 가로, 타이틀 6rem
  질문:  비정형 5패턴 모두 적용, 여백 넉넉
  결과:  슬라이드업 가로 여유, 태그 가로 배치

  ┌──────────────────────────────────────┐
  │  Q1.                                 │
  │  어둠 속에서              ┌────────┐  │
  │  가장 먼저                │ 답변 1  │  │
  │  하는 일은?               └────────┘  │
  │                      ┌────────┐      │
  │                      │ 답변 2  │      │
  │                      └────────┘      │
  └──────────────────────────────────────┘


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
  TABLET (768~1199px)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  히어로: 영상 cover 크롭, 타이틀 4.5rem
  질문:  패턴 A, C, D만 적용 (B, E는 C로 대체)
  결과:  슬라이드업 동일

  ┌────────────────────────────┐
  │  Q1.                       │
  │  어둠 속에서                │
  │  가장 먼저 하는 일은?       │
  │                            │
  │      ┌──────────────┐      │
  │      │ 답변 1        │      │
  │      └──────────────┘      │
  │      ┌──────────────┐      │
  │      │ 답변 2        │      │
  │      └──────────────┘      │
  └────────────────────────────┘


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
  MOBILE (~767px)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  히어로: 영상 cover (세로 크롭), 타이틀 3rem
  질문:  중앙 정렬 단일 패턴 (비정형 해제)
  결과:  풀너비 슬라이드업, 태그 줄바꿈

  ┌──────────────────┐
  │                  │
  │      Q1.         │
  │   어둠 속에서     │
  │  가장 먼저        │
  │  하는 일은?       │
  │                  │
  │ ┌──────────────┐ │
  │ │ 답변 1        │ │
  │ └──────────────┘ │
  │ ┌──────────────┐ │
  │ │ 답변 2        │ │
  │ └──────────────┘ │
  │ ┌──────────────┐ │
  │ │ 답변 3        │ │
  │ └──────────────┘ │
  │ ┌──────────────┐ │
  │ │ 답변 4        │ │
  │ └──────────────┘ │
  │             1/7  │
  └──────────────────┘

  모바일 비정형 → 중앙 수직 스택
  답변: 풀너비 (padding 16px)
  touch-action: pan-y (비디오 스크러빙 터치 대응)
```

---

## ⚙️ Technical Implementation Notes

### 핵심 라이브러리

| 용도 | 라이브러리 | 적용 포인트 |
|------|-----------|-------------|
| **질문 전환** | Framer Motion `AnimatePresence` | exit/enter 애니메이션, layout |
| **답변 stagger** | Framer Motion `staggerChildren` | 답변 카드 순차 등장 |
| **비디오 스크러빙** | 네이티브 scroll + rAF | video.currentTime 매핑 |
| **슬라이드업** | 네이티브 scroll + CSS transform | 스크롤 진행도 기반 transform 계산 |
| **텍스트 스플리팅** | 수동 span 래핑 | 로딩 주문 텍스트 글자별 애니메이션 |

### 비디오 스크러빙 공통 훅

```javascript
function useVideoScrub(videoRef, sectionRef, options = {}) {
  const { playRange = [0, 1] } = options;

  useEffect(() => {
    let ticking = false;

    const handleScroll = () => {
      if (!ticking) {
        requestAnimationFrame(() => {
          const section = sectionRef.current;
          const video = videoRef.current;
          if (!section || !video || !video.duration) { ticking = false; return; }

          const rect = section.getBoundingClientRect();
          const scrollable = section.offsetHeight - window.innerHeight;
          const scrolled = Math.max(0, -rect.top);
          const progress = Math.min(1, scrolled / scrollable);

          // playRange 내에서만 영상 재생
          const videoProgress = Math.max(0, Math.min(1,
            (progress - playRange[0]) / (playRange[1] - playRange[0])
          ));
          video.currentTime = videoProgress * video.duration;

          ticking = false;
        });
        ticking = true;
      }
    };

    window.addEventListener('scroll', handleScroll, { passive: true });
    return () => window.removeEventListener('scroll', handleScroll);
  }, [videoRef, sectionRef, playRange]);
}

// 사용 예시
useVideoScrub(heroVideoRef, heroSectionRef);
useVideoScrub(loadingVideoRef, loadingSectionRef);
useVideoScrub(resultVideoRef, resultSectionRef, { playRange: [0, 0.5] });
```

### 스크롤 위치 기반 섹션 전환 관리

```javascript
function useSectionTracker(sectionRefs) {
  const [currentSection, setCurrentSection] = useState('hero');

  useEffect(() => {
    const handleScroll = () => {
      const scrollY = window.scrollY;
      const vh = window.innerHeight;

      for (const [name, ref] of Object.entries(sectionRefs)) {
        if (!ref.current) continue;
        const top = ref.current.offsetTop;
        const bottom = top + ref.current.offsetHeight;

        if (scrollY + vh * 0.5 >= top && scrollY + vh * 0.5 < bottom) {
          setCurrentSection(name);
          break;
        }
      }
    };

    window.addEventListener('scroll', handleScroll, { passive: true });
    return () => window.removeEventListener('scroll', handleScroll);
  }, [sectionRefs]);

  return currentSection;
}
```

### 퍼포먼스 체크리스트

| 항목 | 대응 | 비고 |
|------|------|------|
| 스크롤 이벤트 | `requestAnimationFrame` + `passive: true` | 60fps 보장 |
| 비디오 프리로드 | 히어로만 `preload="auto"`, 나머지 lazy | 초기 로딩 최적화 |
| 파티클 | CSS animation only | GPU 가속, JS 연산 제로 |
| 파티클 모바일 | 개수 50→20으로 축소 | 저사양 대응 |
| 비정형 레이아웃 | CSS position absolute + % 단위 | 리플로우 최소화 |
| 폰트 | `display=swap` + 서브셋 | FOUT 방지 |
| 비디오 포맷 | WebM(VP9) + MP4(H.264) 이중 소스 | 브라우저 호환 |
| 슬라이드업 transform | `will-change: transform, opacity` | 컴포지터 레이어 |

---

## 🎯 UX 핵심 원칙

| # | 원칙 | 적용 |
|---|------|------|
| 1 | **Scroll = Play** | 스크롤이 영상을 제어. 사용자가 속도를 결정 |
| 2 | **One at a Time** | 질문 하나, 집중 하나. 인지 부하 최소화 |
| 3 | **Every Screen Different** | 비정형 레이아웃으로 질문마다 새로운 시각 경험 |
| 4 | **Build Anticipation** | 히어로(긴장) → 질문(집중) → 로딩(기대) → 결과(경이) |
| 5 | **Feedback Everywhere** | 모든 터치/클릭에 즉각적인 시각 반응 (glow, scale, transition) |
| 6 | **Cinematic, Not Decorative** | 애니메이션은 서사를 위해. 장식이 아닌 감정선을 위한 모션 |

---

*✨ "The Patronus is a kind of positive force, a projection of the very things that the dementor feeds upon — hope, happiness, the desire to survive." ✨*